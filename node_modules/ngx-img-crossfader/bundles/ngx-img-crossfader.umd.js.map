{"version":3,"file":"ngx-img-crossfader.umd.js.map","sources":["ng://ngx-img-crossfader/lib/ngx-img-crossfader.component.ts","ng://ngx-img-crossfader/lib/ngx-img-crossfader.module.ts"],"sourcesContent":["import { Component, OnInit, Input, ViewChild } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'ngx-img-crossfader',\r\n  template: `\r\n    <div class=\"ngx-img-crossfader-div\" #bkgCrossfaderDiv>\r\n      <img class=\"ngx-img-crossfader-img\" [src]=\"getSrc(getImg1Num())\" #bkgCrossfaderImg1>\r\n      <img class=\"ngx-img-crossfader-img ngx-img-crossfader-transparent\" [src]=\"getSrc(getImg2Num())\" #bkgCrossfaderImg2>\r\n    </div>\r\n  `,\r\n  styles: []\r\n})\r\nexport class NgxImgCrossfaderComponent implements OnInit {\r\n\r\n  @Input() initDelayMS: number = 0;\r\n  @Input() idleTimeMS: number = 5000;\r\n  @Input() transitionTimeMS: number = 1000;\r\n  @Input() autoAdvance: boolean = true;\r\n  @Input() imageSources: Array<string> = [];\r\n  @Input() backgroundColor: string = 'rgba(0,0,0,1.0)';\r\n  \r\n  @ViewChild('bkgCrossfaderDiv') private bkgCrossfaderDiv;\r\n  @ViewChild('bkgCrossfaderImg1') private bkgCrossfaderImg1;\r\n  @ViewChild('bkgCrossfaderImg2') private bkgCrossfaderImg2;\r\n\r\n  private div: HTMLDivElement;\r\n  private img1: HTMLImageElement;\r\n  private img2: HTMLImageElement;\r\n  private img1Num: number = 0;\r\n  private img2Num: number = 1;\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n    this.div = <HTMLDivElement>this.bkgCrossfaderDiv.nativeElement;\r\n    this.img1 = <HTMLImageElement>this.bkgCrossfaderImg1.nativeElement;\r\n    this.img2 = <HTMLImageElement>this.bkgCrossfaderImg2.nativeElement;\r\n\r\n    this.div.style.backgroundColor = this.backgroundColor;\r\n    this.img1.style.transitionDuration = this.transitionTimeMS.toString() +'ms';\r\n    this.img1.style.webkitTransitionDuration = this.transitionTimeMS.toString() +'ms';\r\n    this.img2.style.transitionDuration = this.transitionTimeMS.toString() +'ms';\r\n    this.img2.style.webkitTransitionDuration = this.transitionTimeMS.toString() +'ms';    \r\n    setTimeout(() => {\r\n      this.idle();\r\n    }, this.initDelayMS);\r\n  }\r\n\r\n  private idle(): void {\r\n    setTimeout(() => {\r\n      if (this.autoAdvance) {\r\n        this.transition();\r\n      } else {\r\n        this.idle();\r\n      }\r\n    }, this.idleTimeMS);\r\n  }\r\n\r\n  private transition(): void {\r\n    if (this.imageSources.length > 1) {\r\n      if (this.img1.classList.contains('ngx-img-crossfader-transparent')) {\r\n        this.img1Num = (this.img2Num + 1) % this.imageSources.length;\r\n      } else {\r\n        this.img2Num = (this.img1Num + 1) % this.imageSources.length;\r\n      }      \r\n      this.img1.style.transitionDuration = this.transitionTimeMS.toString() +'ms';\r\n      this.img1.style.webkitTransitionDuration = this.transitionTimeMS.toString() +'ms';\r\n      this.img2.style.transitionDuration = this.transitionTimeMS.toString() +'ms';\r\n      this.img2.style.webkitTransitionDuration = this.transitionTimeMS.toString() +'ms';\r\n      this.img1.classList.toggle('ngx-img-crossfader-transparent');\r\n      this.img2.classList.toggle('ngx-img-crossfader-transparent');      \r\n      setTimeout(() => {\r\n        this.idle();\r\n      }, this.transitionTimeMS);     \r\n    }\r\n  }\r\n\r\n  stepForward() {\r\n    if (this.imageSources.length > 1) {\r\n      if (this.img1.classList.contains('ngx-img-crossfader-transparent')) {\r\n        this.img1Num = (this.img2Num + 1) % this.imageSources.length;\r\n      } else {\r\n        this.img2Num = (this.img1Num + 1) % this.imageSources.length;\r\n      }      \r\n      this.img1.style.transitionDuration = this.transitionTimeMS.toString() +'ms';\r\n      this.img1.style.webkitTransitionDuration = this.transitionTimeMS.toString() +'ms';\r\n      this.img2.style.transitionDuration = this.transitionTimeMS.toString() +'ms';\r\n      this.img2.style.webkitTransitionDuration = this.transitionTimeMS.toString() +'ms';\r\n      this.img1.classList.toggle('ngx-img-crossfader-transparent');\r\n      this.img2.classList.toggle('ngx-img-crossfader-transparent');\r\n    }\r\n  }\r\n\r\n  stepBackward() {\r\n    if (this.imageSources.length > 1) {\r\n      if (this.img1.classList.contains('ngx-img-crossfader-transparent')) {\r\n        this.img1Num = (this.img2Num - 1 + this.imageSources.length) % this.imageSources.length;\r\n      } else {\r\n        this.img2Num = (this.img1Num - 1  + this.imageSources.length) % this.imageSources.length;\r\n      }      \r\n      this.img1.style.transitionDuration = this.transitionTimeMS.toString() +'ms';\r\n      this.img1.style.webkitTransitionDuration = this.transitionTimeMS.toString() +'ms';\r\n      this.img2.style.transitionDuration = this.transitionTimeMS.toString() +'ms';\r\n      this.img2.style.webkitTransitionDuration = this.transitionTimeMS.toString() +'ms';\r\n      this.img1.classList.toggle('ngx-img-crossfader-transparent');\r\n      this.img2.classList.toggle('ngx-img-crossfader-transparent');\r\n    }\r\n  }\r\n\r\n  getSrc(imgNum: number): string {\r\n    if (imgNum < this.imageSources.length) {\r\n      return this.imageSources[imgNum];\r\n    } else {\r\n      if (this.imageSources.length) {\r\n        return this.imageSources[0];\r\n      } else {\r\n        return null;\r\n      }\r\n    }\r\n  }\r\n\r\n  getImg1Num(): number {return this.img1Num}\r\n  getImg2Num(): number {return this.img2Num}\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\nimport { NgxImgCrossfaderComponent } from './ngx-img-crossfader.component';\n\n@NgModule({\n  declarations: [NgxImgCrossfaderComponent],\n  imports: [\n  ],\n  exports: [NgxImgCrossfaderComponent]\n})\nexport class NgxImgCrossfaderModule { }\n"],"names":["Component","Input","ViewChild","NgModule"],"mappings":"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"}
