{"version":3,"sources":["ng://ngx-img-crossfader/lib/ngx-img-crossfader.component.ts","ng://ngx-img-crossfader/lib/ngx-img-crossfader.module.ts"],"names":["NgxImgCrossfaderComponent","this","initDelayMS","idleTimeMS","transitionTimeMS","autoAdvance","imageSources","backgroundColor","img1Num","img2Num","prototype","ngOnInit","_this","div","bkgCrossfaderDiv","img1","bkgCrossfaderImg1","img2","bkgCrossfaderImg2","style","transitionDuration","toString","webkitTransitionDuration","setTimeout","idle","transition","length","classList","contains","toggle","stepForward","stepBackward","getSrc","imgNum","getImg1Num","getImg2Num","Component","args","selector","template","Input","ViewChild","NgxImgCrossfaderModule","NgModule","declarations","imports","exports"],"mappings":"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","sourcesContent":["import { Component, OnInit, Input, ViewChild } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'ngx-img-crossfader',\r\n  template: `\r\n    <div class=\"ngx-img-crossfader-div\" #bkgCrossfaderDiv>\r\n      <img class=\"ngx-img-crossfader-img\" [src]=\"getSrc(getImg1Num())\" #bkgCrossfaderImg1>\r\n      <img class=\"ngx-img-crossfader-img ngx-img-crossfader-transparent\" [src]=\"getSrc(getImg2Num())\" #bkgCrossfaderImg2>\r\n    </div>\r\n  `,\r\n  styles: []\r\n})\r\nexport class NgxImgCrossfaderComponent implements OnInit {\r\n\r\n  @Input() initDelayMS: number = 0;\r\n  @Input() idleTimeMS: number = 5000;\r\n  @Input() transitionTimeMS: number = 1000;\r\n  @Input() autoAdvance: boolean = true;\r\n  @Input() imageSources: Array<string> = [];\r\n  @Input() backgroundColor: string = 'rgba(0,0,0,1.0)';\r\n  \r\n  @ViewChild('bkgCrossfaderDiv') private bkgCrossfaderDiv;\r\n  @ViewChild('bkgCrossfaderImg1') private bkgCrossfaderImg1;\r\n  @ViewChild('bkgCrossfaderImg2') private bkgCrossfaderImg2;\r\n\r\n  private div: HTMLDivElement;\r\n  private img1: HTMLImageElement;\r\n  private img2: HTMLImageElement;\r\n  private img1Num: number = 0;\r\n  private img2Num: number = 1;\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n    this.div = <HTMLDivElement>this.bkgCrossfaderDiv.nativeElement;\r\n    this.img1 = <HTMLImageElement>this.bkgCrossfaderImg1.nativeElement;\r\n    this.img2 = <HTMLImageElement>this.bkgCrossfaderImg2.nativeElement;\r\n\r\n    this.div.style.backgroundColor = this.backgroundColor;\r\n    this.img1.style.transitionDuration = this.transitionTimeMS.toString() +'ms';\r\n    this.img1.style.webkitTransitionDuration = this.transitionTimeMS.toString() +'ms';\r\n    this.img2.style.transitionDuration = this.transitionTimeMS.toString() +'ms';\r\n    this.img2.style.webkitTransitionDuration = this.transitionTimeMS.toString() +'ms';    \r\n    setTimeout(() => {\r\n      this.idle();\r\n    }, this.initDelayMS);\r\n  }\r\n\r\n  private idle(): void {\r\n    setTimeout(() => {\r\n      if (this.autoAdvance) {\r\n        this.transition();\r\n      } else {\r\n        this.idle();\r\n      }\r\n    }, this.idleTimeMS);\r\n  }\r\n\r\n  private transition(): void {\r\n    if (this.imageSources.length > 1) {\r\n      if (this.img1.classList.contains('ngx-img-crossfader-transparent')) {\r\n        this.img1Num = (this.img2Num + 1) % this.imageSources.length;\r\n      } else {\r\n        this.img2Num = (this.img1Num + 1) % this.imageSources.length;\r\n      }      \r\n      this.img1.style.transitionDuration = this.transitionTimeMS.toString() +'ms';\r\n      this.img1.style.webkitTransitionDuration = this.transitionTimeMS.toString() +'ms';\r\n      this.img2.style.transitionDuration = this.transitionTimeMS.toString() +'ms';\r\n      this.img2.style.webkitTransitionDuration = this.transitionTimeMS.toString() +'ms';\r\n      this.img1.classList.toggle('ngx-img-crossfader-transparent');\r\n      this.img2.classList.toggle('ngx-img-crossfader-transparent');      \r\n      setTimeout(() => {\r\n        this.idle();\r\n      }, this.transitionTimeMS);     \r\n    }\r\n  }\r\n\r\n  stepForward() {\r\n    if (this.imageSources.length > 1) {\r\n      if (this.img1.classList.contains('ngx-img-crossfader-transparent')) {\r\n        this.img1Num = (this.img2Num + 1) % this.imageSources.length;\r\n      } else {\r\n        this.img2Num = (this.img1Num + 1) % this.imageSources.length;\r\n      }      \r\n      this.img1.style.transitionDuration = this.transitionTimeMS.toString() +'ms';\r\n      this.img1.style.webkitTransitionDuration = this.transitionTimeMS.toString() +'ms';\r\n      this.img2.style.transitionDuration = this.transitionTimeMS.toString() +'ms';\r\n      this.img2.style.webkitTransitionDuration = this.transitionTimeMS.toString() +'ms';\r\n      this.img1.classList.toggle('ngx-img-crossfader-transparent');\r\n      this.img2.classList.toggle('ngx-img-crossfader-transparent');\r\n    }\r\n  }\r\n\r\n  stepBackward() {\r\n    if (this.imageSources.length > 1) {\r\n      if (this.img1.classList.contains('ngx-img-crossfader-transparent')) {\r\n        this.img1Num = (this.img2Num - 1 + this.imageSources.length) % this.imageSources.length;\r\n      } else {\r\n        this.img2Num = (this.img1Num - 1  + this.imageSources.length) % this.imageSources.length;\r\n      }      \r\n      this.img1.style.transitionDuration = this.transitionTimeMS.toString() +'ms';\r\n      this.img1.style.webkitTransitionDuration = this.transitionTimeMS.toString() +'ms';\r\n      this.img2.style.transitionDuration = this.transitionTimeMS.toString() +'ms';\r\n      this.img2.style.webkitTransitionDuration = this.transitionTimeMS.toString() +'ms';\r\n      this.img1.classList.toggle('ngx-img-crossfader-transparent');\r\n      this.img2.classList.toggle('ngx-img-crossfader-transparent');\r\n    }\r\n  }\r\n\r\n  getSrc(imgNum: number): string {\r\n    if (imgNum < this.imageSources.length) {\r\n      return this.imageSources[imgNum];\r\n    } else {\r\n      if (this.imageSources.length) {\r\n        return this.imageSources[0];\r\n      } else {\r\n        return null;\r\n      }\r\n    }\r\n  }\r\n\r\n  getImg1Num(): number {return this.img1Num}\r\n  getImg2Num(): number {return this.img2Num}\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\nimport { NgxImgCrossfaderComponent } from './ngx-img-crossfader.component';\n\n@NgModule({\n  declarations: [NgxImgCrossfaderComponent],\n  imports: [\n  ],\n  exports: [NgxImgCrossfaderComponent]\n})\nexport class NgxImgCrossfaderModule { }\n"]}