{"version":3,"file":"ngx-img-crossfader.js.map","sources":["ng://ngx-img-crossfader/lib/ngx-img-crossfader.component.ts","ng://ngx-img-crossfader/lib/ngx-img-crossfader.module.ts"],"sourcesContent":["import { Component, OnInit, Input, ViewChild } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'ngx-img-crossfader',\r\n  template: `\r\n    <div class=\"ngx-img-crossfader-div\" #bkgCrossfaderDiv>\r\n      <img class=\"ngx-img-crossfader-img\" [src]=\"getSrc(getImg1Num())\" #bkgCrossfaderImg1>\r\n      <img class=\"ngx-img-crossfader-img ngx-img-crossfader-transparent\" [src]=\"getSrc(getImg2Num())\" #bkgCrossfaderImg2>\r\n    </div>\r\n  `,\r\n  styles: []\r\n})\r\nexport class NgxImgCrossfaderComponent implements OnInit {\r\n\r\n  @Input() initDelayMS: number = 0;\r\n  @Input() idleTimeMS: number = 5000;\r\n  @Input() transitionTimeMS: number = 1000;\r\n  @Input() autoAdvance: boolean = true;\r\n  @Input() imageSources: Array<string> = [];\r\n  @Input() backgroundColor: string = 'rgba(0,0,0,1.0)';\r\n  \r\n  @ViewChild('bkgCrossfaderDiv') private bkgCrossfaderDiv;\r\n  @ViewChild('bkgCrossfaderImg1') private bkgCrossfaderImg1;\r\n  @ViewChild('bkgCrossfaderImg2') private bkgCrossfaderImg2;\r\n\r\n  private div: HTMLDivElement;\r\n  private img1: HTMLImageElement;\r\n  private img2: HTMLImageElement;\r\n  private img1Num: number = 0;\r\n  private img2Num: number = 1;\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n    this.div = <HTMLDivElement>this.bkgCrossfaderDiv.nativeElement;\r\n    this.img1 = <HTMLImageElement>this.bkgCrossfaderImg1.nativeElement;\r\n    this.img2 = <HTMLImageElement>this.bkgCrossfaderImg2.nativeElement;\r\n\r\n    this.div.style.backgroundColor = this.backgroundColor;\r\n    this.img1.style.transitionDuration = this.transitionTimeMS.toString() +'ms';\r\n    this.img1.style.webkitTransitionDuration = this.transitionTimeMS.toString() +'ms';\r\n    this.img2.style.transitionDuration = this.transitionTimeMS.toString() +'ms';\r\n    this.img2.style.webkitTransitionDuration = this.transitionTimeMS.toString() +'ms';    \r\n    setTimeout(() => {\r\n      this.idle();\r\n    }, this.initDelayMS);\r\n  }\r\n\r\n  private idle(): void {\r\n    setTimeout(() => {\r\n      if (this.autoAdvance) {\r\n        this.transition();\r\n      } else {\r\n        this.idle();\r\n      }\r\n    }, this.idleTimeMS);\r\n  }\r\n\r\n  private transition(): void {\r\n    if (this.imageSources.length > 1) {\r\n      if (this.img1.classList.contains('ngx-img-crossfader-transparent')) {\r\n        this.img1Num = (this.img2Num + 1) % this.imageSources.length;\r\n      } else {\r\n        this.img2Num = (this.img1Num + 1) % this.imageSources.length;\r\n      }      \r\n      this.img1.style.transitionDuration = this.transitionTimeMS.toString() +'ms';\r\n      this.img1.style.webkitTransitionDuration = this.transitionTimeMS.toString() +'ms';\r\n      this.img2.style.transitionDuration = this.transitionTimeMS.toString() +'ms';\r\n      this.img2.style.webkitTransitionDuration = this.transitionTimeMS.toString() +'ms';\r\n      this.img1.classList.toggle('ngx-img-crossfader-transparent');\r\n      this.img2.classList.toggle('ngx-img-crossfader-transparent');      \r\n      setTimeout(() => {\r\n        this.idle();\r\n      }, this.transitionTimeMS);     \r\n    }\r\n  }\r\n\r\n  stepForward() {\r\n    if (this.imageSources.length > 1) {\r\n      if (this.img1.classList.contains('ngx-img-crossfader-transparent')) {\r\n        this.img1Num = (this.img2Num + 1) % this.imageSources.length;\r\n      } else {\r\n        this.img2Num = (this.img1Num + 1) % this.imageSources.length;\r\n      }      \r\n      this.img1.style.transitionDuration = this.transitionTimeMS.toString() +'ms';\r\n      this.img1.style.webkitTransitionDuration = this.transitionTimeMS.toString() +'ms';\r\n      this.img2.style.transitionDuration = this.transitionTimeMS.toString() +'ms';\r\n      this.img2.style.webkitTransitionDuration = this.transitionTimeMS.toString() +'ms';\r\n      this.img1.classList.toggle('ngx-img-crossfader-transparent');\r\n      this.img2.classList.toggle('ngx-img-crossfader-transparent');\r\n    }\r\n  }\r\n\r\n  stepBackward() {\r\n    if (this.imageSources.length > 1) {\r\n      if (this.img1.classList.contains('ngx-img-crossfader-transparent')) {\r\n        this.img1Num = (this.img2Num - 1 + this.imageSources.length) % this.imageSources.length;\r\n      } else {\r\n        this.img2Num = (this.img1Num - 1  + this.imageSources.length) % this.imageSources.length;\r\n      }      \r\n      this.img1.style.transitionDuration = this.transitionTimeMS.toString() +'ms';\r\n      this.img1.style.webkitTransitionDuration = this.transitionTimeMS.toString() +'ms';\r\n      this.img2.style.transitionDuration = this.transitionTimeMS.toString() +'ms';\r\n      this.img2.style.webkitTransitionDuration = this.transitionTimeMS.toString() +'ms';\r\n      this.img1.classList.toggle('ngx-img-crossfader-transparent');\r\n      this.img2.classList.toggle('ngx-img-crossfader-transparent');\r\n    }\r\n  }\r\n\r\n  getSrc(imgNum: number): string {\r\n    if (imgNum < this.imageSources.length) {\r\n      return this.imageSources[imgNum];\r\n    } else {\r\n      if (this.imageSources.length) {\r\n        return this.imageSources[0];\r\n      } else {\r\n        return null;\r\n      }\r\n    }\r\n  }\r\n\r\n  getImg1Num(): number {return this.img1Num}\r\n  getImg2Num(): number {return this.img2Num}\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\nimport { NgxImgCrossfaderComponent } from './ngx-img-crossfader.component';\n\n@NgModule({\n  declarations: [NgxImgCrossfaderComponent],\n  imports: [\n  ],\n  exports: [NgxImgCrossfaderComponent]\n})\nexport class NgxImgCrossfaderModule { }\n"],"names":[],"mappings":"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"}
